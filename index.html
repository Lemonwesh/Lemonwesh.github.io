<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LEMONS_PROXY // BLUEPRINT_TERMINAL_v10.0</title>
<link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%23001133'/><text x='15' y='75' font-size='60'>üçã</text><text x='55' y='60' font-family='monospace' font-size='35' fill='%233b82f6' font-weight='bold'>&lt;/&gt;</text></svg>">
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;800&family=Inter:wght@300;400;500&display=swap');
:root{--bg-primary:#0a1628;--bg-secondary:#111d32;--bg-tertiary:#1a2942;--blueprint-grid:rgba(59,130,246,0.06);--terminal-blue:#3b82f6;--terminal-bright:#60a5fa;--terminal-dim:#1e40af;--terminal-amber:#f59e0b;--border-glow:rgba(59,130,246,0.15);--lemon-blue:#1e3a8a;--error-red:#ef4444;--success-green:#10b981;--text-primary:#e2e8f0;--text-secondary:#94a3b8;--accent-cyan:#06b6d4}
*{margin:0;padding:0;box-sizing:border-box}
body{background-color:var(--bg-primary);background-image:linear-gradient(var(--blueprint-grid) 1px,transparent 1px),linear-gradient(90deg,var(--blueprint-grid) 1px,transparent 1px);background-size:40px 40px;font-family:'Inter','JetBrains Mono',sans-serif;font-weight:300;color:var(--text-primary);min-height:100vh;overflow-x:hidden;position:relative}
#matrix-canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;opacity:0.08;pointer-events:none}
#boot-sequence{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-primary);z-index:10000;display:flex;flex-direction:column;justify-content:center;padding:50px;font-family:'JetBrains Mono',monospace;font-size:0.95rem;line-height:1.8;font-weight:300}
.boot-line{color:var(--terminal-blue);opacity:0;animation:typeLine 0.08s forwards;letter-spacing:0.5px}
.boot-line.error{color:var(--error-red)}
.boot-line.warn{color:var(--terminal-amber)}
.boot-line.success{color:var(--success-green)}
.boot-line.dim{color:var(--text-secondary)}
@keyframes typeLine{to{opacity:1}}
.boot-cursor{display:inline-block;width:8px;height:16px;background:var(--terminal-blue);margin-left:5px;animation:blink 1s infinite}
@keyframes blink{50%{opacity:0}}
.click-to-boot{margin-top:40px;color:var(--terminal-amber);font-size:1rem;cursor:pointer;opacity:0;animation:fadeInOut 2s infinite;animation-delay:3s;text-align:center;border:1px solid var(--terminal-amber);padding:15px;width:fit-content;border-radius:4px;align-self:center}
@keyframes fadeInOut{0%,100%{opacity:0.3}50%{opacity:1}}
.hidden-message{position:fixed;bottom:2px;right:5px;font-size:8px;color:rgba(148,163,184,0.06);user-select:text;pointer-events:none;font-family:'JetBrains Mono',monospace;z-index:9999;letter-spacing:1px}
.dev-warning{position:fixed;top:0;left:0;width:100%;background:rgba(245,158,11,0.1);border-bottom:1px solid var(--terminal-amber);padding:8px 20px;text-align:center;font-size:0.8rem;color:var(--terminal-amber);z-index:9998;font-family:'JetBrains Mono',monospace;backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;gap:15px}
.dev-warning button{background:transparent;border:1px solid var(--terminal-amber);color:var(--terminal-amber);padding:2px 10px;font-size:0.7rem;cursor:pointer;border-radius:4px;font-family:'JetBrains Mono',monospace}
.dev-warning button:hover{background:var(--terminal-amber);color:var(--bg-primary)}
.game-disclaimer{position:fixed;top:35px;left:0;width:100%;background:rgba(239,68,68,0.15);border-bottom:2px solid var(--error-red);padding:12px 20px;text-align:center;font-size:0.9rem;color:#ff6b6b;z-index:9997;font-family:'JetBrains Mono',monospace;display:flex;justify-content:center;align-items:center;gap:15px;backdrop-filter:blur(5px);font-weight:500;letter-spacing:0.5px}
.game-disclaimer span::before{content:"‚ö†Ô∏è ";color:#ff0000;font-weight:bold}
.game-disclaimer button{background:transparent;border:1px solid #ff6b6b;color:#ff6b6b;padding:4px 15px;font-size:0.75rem;cursor:pointer;border-radius:4px;font-family:'JetBrains Mono',monospace;font-weight:600}
.game-disclaimer button:hover{background:#ff6b6b;color:white}
header{background:var(--bg-secondary);border-bottom:1px solid var(--terminal-blue);padding:15px 25px;display:flex;align-items:center;justify-content:space-between;position:relative;margin-top:75px}
.logo-container{display:flex;align-items:center;gap:12px;cursor:pointer}
.logo-icon{width:42px;height:42px;background:linear-gradient(135deg,var(--lemon-blue) 0%,#1e293b 100%);border:1px solid var(--terminal-blue);border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:0 0 12px var(--border-glow);position:relative;overflow:hidden;animation:pulseGlow 3s ease-in-out infinite}
@keyframes pulseGlow{0%,100%{box-shadow:0 0 12px var(--border-glow)}50%{box-shadow:0 0 18px rgba(59,130,246,0.3)}}
.logo-icon::after{content:"</>";position:absolute;bottom:2px;right:3px;font-size:8px;color:var(--terminal-blue);font-weight:500;background:rgba(0,0,0,0.6);padding:0 2px;border-radius:2px;font-family:'JetBrains Mono',monospace}
.terminal-title{font-size:1.4rem;font-weight:400;color:var(--terminal-blue);text-transform:uppercase;letter-spacing:2px;font-family:'JetBrains Mono',monospace}
.version-tag{font-size:0.65rem;color:var(--terminal-dim);background:rgba(59,130,246,0.1);padding:2px 6px;border-radius:3px;border:1px solid var(--terminal-dim);margin-left:8px;font-weight:400}
.credits{color:var(--text-secondary);font-size:0.75rem;font-weight:300}
nav{background:var(--bg-secondary);border-bottom:1px solid rgba(59,130,246,0.15);display:flex;justify-content:center;position:sticky;top:75px;z-index:100}
nav button{background:transparent;border:none;border-right:1px solid rgba(59,130,246,0.15);color:var(--text-secondary);padding:14px 35px;font-family:'Inter',sans-serif;font-weight:400;font-size:0.85rem;cursor:pointer;text-transform:uppercase;letter-spacing:1.5px;transition:all 0.3s;position:relative}
nav button:last-child{border-right:none}
nav button:hover,nav button.active{background:rgba(59,130,246,0.08);color:var(--terminal-blue)}
nav button.active{border-bottom:2px solid var(--terminal-blue)}
nav button:disabled{opacity:0.3;cursor:not-allowed;pointer-events:none}
nav button.secret-nav{display:none}
nav button.secret-nav.unlocked{display:block;background:rgba(245,158,11,0.1);color:var(--terminal-amber);border-bottom:2px solid var(--terminal-amber)}
nav button.secret-nav.unlocked:hover{background:rgba(245,158,11,0.2)}
.container{max-width:1400px;margin:0 auto;padding:25px;padding-bottom:140px}
.section{display:none}
.section.active{display:block;animation:fadeIn 0.4s ease-out}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
.system-stats{background:var(--bg-secondary);border:1px solid rgba(59,130,246,0.15);border-radius:6px;padding:18px 25px;margin-bottom:25px;display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:25px;position:relative}
.system-stats::after{content:"BLUEPRINT_v10.0 // LEMONWESH x LD";position:absolute;top:5px;right:10px;font-size:0.6rem;color:var(--terminal-dim);opacity:0.4;font-family:'JetBrains Mono',monospace;font-weight:300}
.stat-box{display:flex;flex-direction:column;gap:4px}
.stat-label{color:var(--text-secondary);font-size:0.7rem;text-transform:uppercase;letter-spacing:1px;font-weight:400}
.stat-value{color:var(--terminal-blue);font-size:1.2rem;font-weight:400;font-family:'JetBrains Mono',monospace;letter-spacing:0.5px}
.search-container{margin-bottom:25px;position:relative}
.search-input{width:100%;padding:14px 20px 14px 45px;background:var(--bg-secondary);border:1px solid rgba(59,130,246,0.2);color:var(--text-primary);font-family:'Inter',sans-serif;font-weight:300;font-size:0.95rem;border-radius:6px;outline:none;transition:all 0.3s}
.search-input:focus{border-color:var(--terminal-blue);box-shadow:0 0 0 2px rgba(59,130,246,0.1)}
.search-container::before{content:"‚åï";position:absolute;left:18px;top:50%;transform:translateY(-50%);color:var(--terminal-blue);font-size:1.1rem;opacity:0.6}
.games-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px}
.game-module{background:var(--bg-secondary);border:1px solid rgba(59,130,246,0.12);border-radius:6px;overflow:hidden;cursor:pointer;transition:all 0.25s;position:relative}
.game-module::before{content:"";position:absolute;top:0;left:0;width:100%;height:2px;background:linear-gradient(90deg,var(--terminal-blue),transparent);transform:scaleX(0);transition:transform 0.3s}
.game-module:hover{transform:translateY(-4px);border-color:rgba(59,130,246,0.4);box-shadow:0 8px 25px rgba(59,130,246,0.12)}
.game-module:hover::before{transform:scaleX(1)}
.module-header{padding:18px;background:linear-gradient(135deg,rgba(30,58,138,0.15) 0%,transparent 100%);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(59,130,246,0.08)}
.module-icon{font-size:1.9rem;filter:drop-shadow(0 0 3px rgba(59,130,246,0.3))}
.module-tag{background:rgba(59,130,246,0.08);color:var(--terminal-bright);padding:3px 10px;border-radius:4px;font-size:0.65rem;text-transform:uppercase;border:1px solid rgba(59,130,246,0.2);font-weight:500;letter-spacing:0.5px}
.module-title{padding:18px;font-size:1rem;font-weight:400;color:var(--text-primary);letter-spacing:0.3px}
.module-meta{padding:0 18px 18px;color:var(--text-secondary);font-size:0.85rem;display:flex;justify-content:space-between;font-family:'JetBrains Mono',monospace;font-weight:300}
.coming-soon{text-align:center;padding:60px 20px;background:var(--bg-secondary);border:1px dashed rgba(59,130,246,0.25);border-radius:8px;position:relative;overflow:hidden}
.hack-map{width:100%;max-width:600px;margin:0 auto 30px;height:200px;background:rgba(10,22,40,0.6);border:1px solid rgba(59,130,246,0.15);border-radius:6px;position:relative;overflow:hidden}
.map-grid{position:absolute;width:100%;height:100%;background-image:linear-gradient(rgba(59,130,246,0.1) 1px,transparent 1px),linear-gradient(90deg,rgba(59,130,246,0.1) 1px,transparent 1px);background-size:20px 20px}
.coming-title{font-size:2rem;color:var(--terminal-blue);margin-bottom:10px;text-transform:uppercase;letter-spacing:4px;font-family:'JetBrains Mono',monospace;font-weight:300}
.coming-subtitle{color:var(--terminal-dim);font-size:1.1rem;margin-bottom:20px;letter-spacing:2px}
.coming-text{color:var(--text-secondary);font-size:0.95rem;max-width:500px;margin:0 auto 30px;line-height:1.6;font-weight:300}
.proxy-links{display:flex;gap:15px;justify-content:center;flex-wrap:wrap}
.proxy-link{background:rgba(59,130,246,0.08);border:1px solid rgba(59,130,246,0.25);color:var(--terminal-blue);padding:12px 24px;border-radius:4px;text-decoration:none;font-family:'JetBrains Mono',monospace;font-size:0.85rem;transition:all 0.3s;display:inline-flex;align-items:center;gap:8px}
.proxy-link:hover{background:rgba(59,130,246,0.15);border-color:var(--terminal-blue);transform:translateY(-2px)}
.game-viewer{display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:var(--bg-primary);z-index:2000;flex-direction:column}
.game-viewer.active{display:flex}
.viewer-header{background:var(--bg-secondary);padding:15px 25px;border-bottom:1px solid var(--terminal-blue);display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 10px rgba(0,0,0,0.2)}
.viewer-title{color:var(--terminal-blue);font-size:1rem;font-family:'JetBrains Mono',monospace;font-weight:400;letter-spacing:0.5px;display:flex;align-items:center;gap:10px}
.controls-group{display:flex;gap:10px}
.control-btn{background:rgba(59,130,246,0.1);border:1px solid rgba(59,130,246,0.3);color:var(--terminal-blue);padding:8px 16px;font-family:'JetBrains Mono',monospace;font-size:0.8rem;cursor:pointer;border-radius:4px;transition:all 0.2s;font-weight:400;display:flex;align-items:center;gap:6px}
.control-btn:hover{background:rgba(59,130,246,0.2);border-color:var(--terminal-blue)}
.control-btn.close{background:rgba(239,68,68,0.1);border-color:rgba(239,68,68,0.3);color:var(--error-red)}
.control-btn.close:hover{background:rgba(239,68,68,0.2)}
#gameFrame{flex:1;border:none;background:#000;width:100%}
.music-player{position:fixed;bottom:45px;left:0;width:100%;background:var(--bg-secondary);border-top:1px solid rgba(59,130,246,0.15);padding:12px 25px;display:flex;align-items:center;gap:15px;z-index:998;backdrop-filter:blur(5px)}
.music-label{color:var(--text-secondary);font-size:0.75rem;text-transform:uppercase;letter-spacing:1px;white-space:nowrap;font-family:'JetBrains Mono',monospace}
.music-input{flex:1;background:var(--bg-primary);border:1px solid rgba(59,130,246,0.2);color:var(--text-primary);padding:8px 14px;border-radius:4px;font-family:'JetBrains Mono',monospace;font-size:0.85rem;font-weight:300;outline:none}
.music-input:focus{border-color:var(--terminal-blue)}
.music-btn{background:rgba(59,130,246,0.15);border:1px solid var(--terminal-blue);color:var(--terminal-blue);padding:8px 18px;font-family:'JetBrains Mono',monospace;font-size:0.8rem;cursor:pointer;border-radius:4px;transition:all 0.2s;font-weight:400}
.music-btn:hover{background:var(--terminal-blue);color:white}
.now-playing{color:var(--terminal-bright);font-size:0.8rem;margin-left:10px;font-family:'JetBrains Mono',monospace;opacity:0;transition:opacity 0.3s}
.now-playing.active{opacity:1}
.achievements-btn{position:fixed;bottom:95px;right:25px;width:45px;height:45px;background:var(--bg-secondary);border:1px solid var(--terminal-blue);border-radius:50%;color:var(--terminal-blue);font-size:1.3rem;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px rgba(0,0,0,0.3);z-index:999;transition:all 0.3s}
.achievements-btn:hover{transform:scale(1.1) rotate(10deg);box-shadow:0 0 15px var(--border-glow)}
.achievements-panel{display:none;position:fixed;bottom:150px;right:25px;width:320px;background:var(--bg-secondary);border:1px solid rgba(59,130,246,0.25);border-radius:8px;padding:20px;box-shadow:0 10px 40px rgba(0,0,0,0.4);z-index:999;max-height:450px;overflow-y:auto}
.achievements-panel.active{display:block;animation:slideUp 0.3s ease-out}
@keyframes slideUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.panel-header{color:var(--terminal-blue);border-bottom:1px solid rgba(59,130,246,0.2);padding-bottom:12px;margin-bottom:15px;font-family:'JetBrains Mono',monospace;font-size:0.9rem;display:flex;justify-content:space-between;align-items:center;font-weight:400}
.achievement-item{display:flex;align-items:center;gap:12px;padding:12px;margin-bottom:8px;background:rgba(59,130,246,0.04);border:1px solid rgba(59,130,246,0.1);border-radius:4px;opacity:0.4;transition:all 0.3s}
.achievement-item.unlocked{opacity:1;background:rgba(59,130,246,0.12);border-color:rgba(59,130,246,0.3)}
.achievement-icon{font-size:1.4rem}
.achievement-info h4{color:var(--text-primary);font-size:0.85rem;font-weight:500;margin-bottom:2px}
.achievement-info p{color:var(--text-secondary);font-size:0.75rem;font-weight:300}
.achievement-popup{position:fixed;top:100px;right:-350px;background:var(--bg-secondary);border:1px solid var(--terminal-blue);border-radius:6px;padding:15px 20px;display:flex;align-items:center;gap:15px;box-shadow:0 5px 25px rgba(59,130,246,0.2);z-index:1001;transition:right 0.5s cubic-bezier(0.68,-0.55,0.265,1.55);max-width:300px}
.achievement-popup.show{right:25px}
.pop-icon{font-size:2rem}
.pop-text h3{color:var(--terminal-bright);font-size:0.9rem;margin-bottom:3px;font-weight:500}
.pop-text p{color:var(--text-secondary);font-size:0.8rem;font-weight:300}
.status-bar{position:fixed;bottom:0;left:0;width:100%;background:var(--bg-secondary);border-top:1px solid rgba(59,130,246,0.15);padding:10px 25px;display:flex;justify-content:space-between;align-items:center;font-size:0.75rem;z-index:997;color:var(--text-secondary);font-weight:300}
.status-left{display:flex;gap:25px}
.easter-egg-toast{position:fixed;top:100px;right:-400px;background:var(--bg-secondary);border:1px solid var(--terminal-amber);color:var(--terminal-amber);padding:15px 25px;border-radius:6px;font-family:'JetBrains Mono',monospace;font-size:0.9rem;transition:right 0.5s;z-index:1002;box-shadow:0 5px 20px rgba(245,158,11,0.2);max-width:350px;line-height:1.5;white-space:pre-line}
.easter-egg-toast.show{right:25px}
.easter-egg-toast.angry{background:#2a0a0a;border-color:var(--error-red);color:#ff6b6b;box-shadow:0 5px 20px rgba(239,68,68,0.6);animation:shake 0.5s infinite}
.easter-egg-toast.furious{background:#1a0505;border-color:#ff0000;color:#ff0000;box-shadow:0 0 30px rgba(255,0,0,0.8);animation:shake 0.3s infinite}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}
#aurelio-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#050000;z-index:99999;flex-direction:column;align-items:center;justify-content:center;font-family:'JetBrains Mono',monospace;overflow:hidden}
#aurelio-overlay.active{display:flex}
.aurelio-glitch{position:absolute;top:0;left:0;width:100%;height:100%;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(255,0,0,0.03) 2px,rgba(255,0,0,0.03) 4px);pointer-events:none;animation:scanlines 0.1s infinite}
@keyframes scanlines{0%{transform:translateY(0)}100%{transform:translateY(4px)}}
.stop-text{font-size:6rem;color:#ff0000;font-weight:800;text-transform:uppercase;letter-spacing:10px;animation:flicker 0.5s infinite;text-shadow:0 0 20px rgba(255,0,0,0.8),0 0 40px rgba(255,0,0,0.4);position:relative;z-index:2}
@keyframes flicker{0%,100%{opacity:1}50%{opacity:0.8}52%{opacity:0.3}54%{opacity:1}}
.stop-sub{color:#ff3333;margin-top:20px;font-size:1.3rem;text-align:center;letter-spacing:3px;animation:pulseText 1s infinite}
@keyframes pulseText{0%,100%{opacity:1}50%{opacity:0.5}}
.stop-timer{color:#ff0000;font-size:4rem;margin-top:30px;font-weight:bold;animation:pulseRed 0.5s infinite;font-family:'JetBrains Mono',monospace;text-shadow:0 0 30px rgba(255,0,0,0.8)}
@keyframes pulseRed{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.7;transform:scale(1.05)}}
.stop-logs{color:#aa0000;margin-top:40px;font-size:0.85rem;text-align:left;max-width:600px;height:150px;overflow:hidden;font-family:'JetBrains Mono',monospace;line-height:1.4;opacity:0.8;border-left:2px solid #ff0000;padding-left:20px}
.stop-logs div{margin-bottom:5px;opacity:0;animation:logAppear 0.3s forwards}
@keyframes logAppear{to{opacity:1}}
.stop-hint{color:#550000;margin-top:30px;font-size:0.8rem;letter-spacing:2px}
.lemon-counter{position:fixed;top:110px;right:25px;background:rgba(245,158,11,0.1);border:1px solid var(--terminal-amber);padding:10px 20px;border-radius:6px;font-family:'JetBrains Mono',monospace;font-size:0.85rem;color:var(--terminal-amber);z-index:996;opacity:0;transition:opacity 0.3s}
.lemon-counter.show{opacity:1}
.unlocked-toast{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);background:var(--bg-secondary);border:2px solid var(--terminal-amber);border-radius:12px;padding:40px;text-align:center;z-index:10000;box-shadow:0 0 50px rgba(245,158,11,0.5);transition:transform 0.5s cubic-bezier(0.68,-0.55,0.265,1.55)}
.unlocked-toast.show{transform:translate(-50%,-50%) scale(1)}
.unlocked-toast h2{color:var(--terminal-amber);font-family:'JetBrains Mono',monospace;font-size:2rem;margin-bottom:15px}
.unlocked-toast p{color:var(--text-secondary);margin-bottom:20px}
.big-lemon{font-size:5rem;margin-bottom:20px;animation:spin 2s linear infinite}
@keyframes spin{100%{transform:rotate(360deg)}}
.hidden-games-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:10px;margin-top:10px}
.hidden-game-item{background:rgba(245,158,11,0.1);border:1px solid rgba(245,158,11,0.2);padding:10px;border-radius:4px;cursor:pointer;text-align:center;font-size:0.8rem;transition:all 0.3s}
.hidden-game-item:hover{background:rgba(245,158,11,0.2);transform:scale(1.05)}
.secret-menu-container{display:none}
.secret-menu-container.active{display:block}
.secret-menu{background:var(--bg-secondary);border:2px solid var(--terminal-amber);border-radius:8px;padding:25px;margin-top:20px;position:relative;overflow:hidden;animation:glowPulse 3s infinite}
.secret-menu::before{content:"";position:absolute;top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,var(--terminal-amber),transparent,var(--terminal-amber));animation:scan 2s linear infinite}
@keyframes scan{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
@keyframes glowPulse{0%,100%{box-shadow:0 0 20px rgba(245,158,11,0.1)}50%{box-shadow:0 0 30px rgba(245,158,11,0.3)}}
.secret-title{color:var(--terminal-amber);font-family:'JetBrains Mono',monospace;font-size:1.5rem;margin-bottom:20px;text-transform:uppercase;letter-spacing:2px;text-align:center;text-shadow:0 0 10px rgba(245,158,11,0.3)}
.secret-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:20px}
.secret-card{background:rgba(245,158,11,0.05);border:1px solid rgba(245,158,11,0.2);border-radius:6px;padding:20px;transition:all 0.3s}
.secret-card:hover{border-color:rgba(245,158,11,0.4);transform:translateY(-2px);box-shadow:0 5px 15px rgba(245,158,11,0.1)}
.secret-card h3{color:var(--terminal-amber);font-family:'JetBrains Mono',monospace;font-size:0.9rem;margin-bottom:15px;display:flex;align-items:center;gap:8px}
.secret-btn{background:rgba(245,158,11,0.1);border:1px solid var(--terminal-amber);color:var(--terminal-amber);padding:10px 15px;font-family:'JetBrains Mono',monospace;font-size:0.8rem;cursor:pointer;border-radius:4px;transition:all 0.3s;width:100%;margin-bottom:10px;text-align:left;display:flex;align-items:center;justify-content:space-between}
.secret-btn:hover{background:rgba(245,158,11,0.2);transform:translateX(5px)}
.secret-btn.danger{border-color:var(--error-red);color:var(--error-red)}
.secret-btn.danger:hover{background:rgba(239,68,68,0.2)}
.dev-console{background:#000;border:1px solid var(--terminal-amber);border-radius:4px;padding:15px;font-family:'JetBrains Mono',monospace;font-size:0.8rem;height:200px;overflow-y:auto;color:#00ff00;margin-top:10px}
.dev-console-line{margin-bottom:5px;opacity:0;animation:typeLine 0.1s forwards}
.matrix-slider{width:100%;margin:10px 0;background:var(--bg-primary);border:1px solid rgba(245,158,11,0.3);border-radius:4px;padding:10px}
.matrix-slider input[type="range"]{width:100%;accent-color:var(--terminal-amber)}
.anger-indicator{position:fixed;top:110px;left:25px;background:rgba(239,68,68,0.1);border:1px solid var(--error-red);padding:10px 20px;border-radius:6px;font-family:'JetBrains Mono',monospace;font-size:0.85rem;color:var(--error-red);z-index:996;opacity:0;transition:opacity 0.3s;display:none}
.anger-indicator.show{opacity:1;display:block}
.anger-level{font-weight:bold;color:#ff0000}
</style>
</head>
<body>

<!-- Hidden Message -->
<div class="hidden-message">Aurelio is always watching... üëÅÔ∏è</div>

<!-- Dev Warning -->
<div class="dev-warning">
    <span>‚ö†Ô∏è DEVELOPER BUILD // UNSTABLE FEATURES ACTIVE</span>
    <button onclick="this.parentElement.remove()">DISMISS</button>
</div>

<!-- AGGRESSIVE DISCLAIMER -->
<div class="game-disclaimer" id="gameDisclaimer">
    <span>SOME GAMES ARE BROKEN BECAUSE I'M TOO LAZY TO FIX URLS. DEAL WITH IT.</span>
    <button onclick="dismissDisclaimer()">X</button>
</div>

<!-- Aurelio Anger Indicator -->
<div class="anger-indicator" id="angerIndicator">
    SYSTEM ANGER: <span class="anger-level" id="angerLevel">0%</span>
</div>

<!-- Lemon Counter -->
<div class="lemon-counter" id="lemonCounter">üçã Lemon Searches: <span id="lemonCount">0</span>/5</div>

<!-- Boot Sequence -->
<div id="boot-sequence">
    <div class="boot-line" style="animation-delay:0.1s">> LEMONS_PROXY v10.0 INITIALIZING...</div>
    <div class="boot-line" style="animation-delay:0.3s">> Loading blueprint modules...</div>
    <div class="boot-line success" style="animation-delay:0.8s">> Connection established [ENCRYPTED]</div>
    <div class="boot-line warn" style="animation-delay:1.0s">> Warning: 64 game endpoints loaded</div>
    <div class="boot-line" style="animation-delay:2.5s">> SYSTEM READY - 64 MODULES ACTIVE</div>
    <div class="click-to-boot" onclick="dismissBoot()">[ CLICK TO INITIALIZE ]</div>
</div>

<!-- Achievement Popup -->
<div class="achievement-popup" id="achievementPopup">
    <div class="pop-icon">üèÜ</div>
    <div class="pop-text">
        <h3>Achievement Unlocked!</h3>
        <p id="achievementText">Description here</p>
    </div>
</div>

<!-- Easter Egg Toast -->
<div class="easter-egg-toast" id="easterToast"></div>

<!-- AURELIO STOP OVERLAY -->
<div id="aurelio-overlay">
    <div class="aurelio-glitch"></div>
    <div class="stop-text">!STOP!</div>
    <div class="stop-sub">SECURITY PROTOCOL VIOLATION</div>
    <div class="stop-timer" id="aurelioTimer">60</div>
    <div class="stop-logs" id="aurelioLogs"></div>
    <div class="stop-hint">SYSTEM LOCKED - DATA CORRUPTION IMMINENT</div>
</div>

<!-- Secret Unlock Toast -->
<div class="unlocked-toast" id="unlockedToast">
    <div class="big-lemon">üçã</div>
    <h2>SECRET MENU UNLOCKED!</h2>
    <p>You searched for lemons 5 times. The dev console is now yours.</p>
    <button class="control-btn" onclick="closeUnlockToast()">ACCEPT POWER</button>
</div>

<canvas id="matrix-canvas"></canvas>

<!-- Header -->
<header>
    <div class="logo-container" onclick="showEasterEgg('logo')">
        <div class="logo-icon">üçã</div>
        <div>
            <div class="terminal-title">LEMONS_PROXY<span class="version-tag">v10.0</span></div>
            <div class="credits">64 GAMES LOADED // BY LEMONWESH & LD</div>
        </div>
    </div>
</header>

<!-- Navigation -->
<nav>
    <button class="active" onclick="showSection('games')">Games</button>
    <button onclick="showSection('proxies')">Proxies</button>
    <button onclick="showSection('apps')">Apps</button>
    <button onclick="showSection('about')">About</button>
    <button class="secret-nav" id="secretNavBtn" onclick="showSection('secret')">üçã Secret</button>
</nav>

<div class="container">
    <!-- Games Section -->
    <section id="games" class="section active">
        <div class="system-stats">
            <div class="stat-box">
                <span class="stat-label">Available Games</span>
                <span class="stat-value" id="gameCount">0</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Online Players</span>
                <span class="stat-value">‚àû</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Server Status</span>
                <span class="stat-value" style="color:var(--success-green)">Online</span>
            </div>
            <div class="stat-box">
                <span class="stat-label">Genres</span>
                <span class="stat-value">12</span>
            </div>
        </div>

        <div class="search-container">
            <input type="text" class="search-input" id="gameSearch" placeholder="Search 64 games... (do not type 'aurelio')" onkeyup="handleSearch(event)">
        </div>

        <div class="games-grid" id="gamesGrid"></div>
    </section>

    <!-- Proxies Section -->
    <section id="proxies" class="section">
        <div class="coming-soon">
            <div class="hack-map">
                <div class="map-grid"></div>
            </div>
            <div class="coming-title">Proxy Network</div>
            <div class="coming-subtitle">/// ACCESS RESTRICTED ///</div>
            <div class="coming-text">Anonymous browsing nodes coming soon.</div>
            <div class="proxy-links">
                <a href="#" class="proxy-link" onclick="alert('Proxy offline')">Node Alpha</a>
                <a href="#" class="proxy-link" onclick="alert('Proxy offline')">Node Beta</a>
                <a href="#" class="proxy-link" onclick="alert('Proxy offline')">Node Gamma</a>
            </div>
        </div>
    </section>

    <!-- Apps Section -->
    <section id="apps" class="section">
        <div class="coming-soon">
            <div class="coming-title">Applications</div>
            <div class="coming-subtitle">/// MODULE LOADING ///</div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section">
        <div style="max-width:800px;margin:0 auto">
            <div class="secret-menu">
                <div class="secret-title">System Information</div>
                <div style="color:var(--text-secondary);line-height:1.8;font-size:0.9rem">
                    <p><strong>LEMONS_PROXY v10.0</strong></p>
                    <p>64 Games ‚Ä¢ 12 Genres ‚Ä¢ 1 Developer Too Lazy To Fix URLs</p>
                </div>
            </div>
        </div>
    </section>

    <!-- SECRET MENU SECTION -->
    <section id="secret" class="section secret-menu-container">
        <div class="secret-menu">
            <div class="secret-title">üçã Developer Console // Classified</div>
            <div class="secret-grid">
                <div class="secret-card">
                    <h3>‚ö° System Console</h3>
                    <div class="dev-console" id="devConsole">
                        <div class="dev-console-line">> Dev mode initialized...</div>
                        <div class="dev-console-line">> 64 game modules detected</div>
                        <div class="dev-console-line">> Warning: Lazy dev mode active</div>
                    </div>
                    <button class="secret-btn" onclick="devCommand('hack')"><span>Simulate Hack</span> ‚å®Ô∏è</button>
                    <button class="secret-btn" onclick="devCommand('clear')"><span>Clear Console</span> üóëÔ∏è</button>
                </div>

                <div class="secret-card">
                    <h3>üåßÔ∏è Matrix Intensity</h3>
                    <div class="matrix-slider">
                        <label style="color:var(--text-secondary);font-size:0.8rem">Rain Density</label>
                        <input type="range" min="0" max="100" value="8" id="matrixSlider" oninput="updateMatrix(this.value)">
                    </div>
                    <button class="secret-btn" onclick="toggleExtremeMatrix()"><span>EXTREME MODE</span> ‚ö†Ô∏è</button>
                    <button class="secret-btn danger" onclick="fakeCrash()"><span>Fake System Crash</span> üí•</button>
                </div>

                <div class="secret-card">
                    <h3>üéÆ Experimental</h3>
                    <button class="secret-btn" onclick="rickRoll()"><span>Rick Roll Yourself</span> üéµ</button>
                    <button class="secret-btn" onclick="showAurelioMessage()"><span>Summon Aurelio</span> üëÅÔ∏è</button>
                </div>

                <div class="secret-card">
                    <h3>üîí Unlisted Games</h3>
                    <div class="hidden-games-grid" id="hiddenGames">
                        <div class="hidden-game-item" onclick="openGame('Secret','https://example.com')">üéØ Secret Level</div>
                        <div class="hidden-game-item" onclick="openGame('Debug','https://example.com')">üêõ Debug Mode</div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<!-- Game Viewer -->
<div class="game-viewer" id="gameViewer">
    <div class="viewer-header">
        <div class="viewer-title">
            <span>üéÆ</span>
            <span id="viewerGameTitle">Game Title</span>
        </div>
        <div class="controls-group">
            <button class="control-btn" onclick="reloadGame()">‚Üª Reload</button>
            <button class="control-btn" onclick="toggleFullscreen()">‚õ∂ Fullscreen</button>
            <button class="control-btn close" onclick="closeGame()">‚úï Close</button>
        </div>
    </div>
    <iframe id="gameFrame" sandbox="allow-scripts allow-same-origin allow-popups allow-forms"></iframe>
</div>

<!-- Music Player -->
<div class="music-player">
    <span class="music-label">AUDIO_STREAM:</span>
    <input type="text" class="music-input" placeholder="Enter YouTube URL..." id="musicInput">
    <button class="music-btn" onclick="playMusic()">‚ñ∂ Play</button>
    <button class="music-btn" onclick="stopMusic()" style="background:rgba(239,68,68,0.15);border-color:var(--error-red);color:var(--error-red)">‚ñ† Stop</button>
    <span class="now-playing" id="nowPlaying">Now playing: Nothing</span>
</div>

<!-- Achievements -->
<button class="achievements-btn" onclick="toggleAchievements()" title="Achievements">üèÜ</button>
<div class="achievements-panel" id="achievementsPanel">
    <div class="panel-header">
        <span>ACHIEVEMENTS</span>
        <span style="cursor:pointer" onclick="toggleAchievements()">‚úï</span>
    </div>
    <div id="achievementsList">
        <div class="achievement-item unlocked" data-id="first_visit">
            <div class="achievement-icon">üëã</div>
            <div class="achievement-info"><h4>First Contact</h4><p>Visit the site</p></div>
        </div>
        <div class="achievement-item" data-id="lemon_hunter">
            <div class="achievement-icon">üçã</div>
            <div class="achievement-info"><h4>Lemon Hunter</h4><p>Search for lemons 5 times</p></div>
        </div>
        <div class="achievement-item" data-id="game_master">
            <div class="achievement-icon">üéÆ</div>
            <div class="achievement-info"><h4>Game Master</h4><p>Play 10 different games</p></div>
        </div>
        <div class="achievement-item" data-id="forbidden_name">
            <div class="achievement-icon">üëÅÔ∏è</div>
            <div class="achievement-info"><h4>The Forbidden Name</h4><p>Invoke Aurelio 7 times</p></div>
        </div>
    </div>
</div>

<!-- Status Bar -->
<div class="status-bar">
    <div class="status-left">
        <span>Status: Online</span>
        <span>Latency: <span id="latency">12</span>ms</span>
        <span>Games: 64</span>
    </div>
    <div>
        <span id="clock">00:00:00</span> | LEMONS_PROXY v10.0
    </div>
</div>

<script>
// 64 GAMES DATABASE - ALL GENRES
const games=[
  // Racing (10)
  {name:"Poly Track",emoji:"üèéÔ∏è",tag:"Racing",url:"https://d3rtzzzsiu7gdr.cloudfront.net/files/polytrack/index.html"},
  {name:"Jelly Truck",emoji:"üöö",tag:"Racing",url:"https://jellytruck2.github.io/"},
  {name:"Slope",emoji:"üìê",tag:"Racing",url:"https://slope-y8.com/"},
  {name:"Slope 2",emoji:"üìê",tag:"Racing",url:"https://slopegame2.github.io/"},
  {name:"Drift Hunters",emoji:"üèéÔ∏è",tag:"Racing",url:"https://drifthuntersonline.github.io/"},
  {name:"Slow Roads",emoji:"üõ£Ô∏è",tag:"Racing",url:"https://slowroads.io/"},
  {name:"Smash Karts",emoji:"üèéÔ∏è",tag:"Racing",url:"https://smashkarts.io/"},
  {name:"Moto X3M",emoji:"üèçÔ∏è",tag:"Racing",url:"https://moto-x3m.com/"},
  {name:"Hill Climb Racing",emoji:"üöô",tag:"Racing",url:"https://hill-climb-racing.github.io/"},
  {name:"Madalin Stunt Cars 2",emoji:"üèéÔ∏è",tag:"Racing",url:"https://madalinstuntcars2.com/"},
  
  // Sports (6)
  {name:"8 Ball Pool",emoji:"üé±",tag:"Sports",url:"https://8ball-pool.github.io/"},
  {name:"Basketball Stars",emoji:"üèÄ",tag:"Sports",url:"https://basketball-stars.io/"},
  {name:"Retro Bowl",emoji:"üèà",tag:"Sports",url:"https://retrobowl97.github.io/"},
  {name:"Soccer Random",emoji:"‚öΩ",tag:"Sports",url:"https://soccer-random.github.io/"},
  {name:"Football Legends",emoji:"üèüÔ∏è",tag:"Sports",url:"https://football-legends.github.io/"},
  {name:"Tennis Masters",emoji:"üéæ",tag:"Sports",url:"https://tennis-masters.com/"},
  
  // FPS/Battle (8)
  {name:"1v1.LOL",emoji:"üî´",tag:"Battle",url:"https://1v1-lol-unblocked.github.io/"},
  {name:"Shell Shockers",emoji:"ü•ö",tag:"FPS",url:"https://shellshockers-unblocked.github.io/"},
  {name:"Krunker.io",emoji:"üî´",tag:"FPS",url:"https://krunker-io.github.io/"},
  {name:"Zombs Royale",emoji:"üßü",tag:"Battle",url:"https://zombsroyale.io/"},
  {name:"Build Royale",emoji:"üèóÔ∏è",tag:"Battle",url:"https://buildroyale.io/"},
  {name:"Deadshot.io",emoji:"üéØ",tag:"FPS",url:"https://deadshot.io/"},
  {name:"Venge.io",emoji:"‚öîÔ∏è",tag:"FPS",url:"https://venge.io/"},
  {name:"Evowars.io",emoji:"üó°Ô∏è",tag:"Battle",url:"https://evowars.io/"},
  
  // Arcade/IO (10)
  {name:"Subway Surfers",emoji:"üèÉ",tag:"Arcade",url:"https://subway-surfer.github.io/"},
  {name:"Temple Run 2",emoji:"üèõÔ∏è",tag:"Arcade",url:"https://temple-run-2.github.io/"},
  {name:"Crossy Road",emoji:"üêî",tag:"Arcade",url:"https://crossyroad66.github.io/"},
  {name:"Slither.io",emoji:"üêç",tag:"Arcade",url:"https://slither.io/"},
  {name:"Agar.io",emoji:"‚ö™",tag:"Arcade",url:"https://agar.io/"},
  {name:"Paper.io 2",emoji:"üìÑ",tag:"Arcade",url:"https://paper-io.com/"},
  {name:"Diep.io",emoji:"üî∑",tag:"Arcade",url:"https://diep.io/"},
  {name:"MooMoo.io",emoji:"üêÆ",tag:"Survival",url:"https://moomoo.io/"},
  {name:"Hole.io",emoji:"üï≥Ô∏è",tag:"Arcade",url:"https://hole-io.com/"},
  {name:"Helix Jump",emoji:"üåÄ",tag:"Arcade",url:"https://helix-jump.game/"},
  
  // Puzzle (8)
  {name:"2048",emoji:"üî¢",tag:"Puzzle",url:"https://play2048.co/"},
  {name:"Cookie Clicker",emoji:"üç™",tag:"Idle",url:"https://cookieclicker-game.github.io/"},
  {name:"Minesweeper",emoji:"üí£",tag:"Puzzle",url:"https://minesweeper.online/"},
  {name:"Little Alchemy 2",emoji:"‚öóÔ∏è",tag:"Puzzle",url:"https://littlealchemy2.com/"},
  {name:"Sudoku",emoji:"üß©",tag:"Puzzle",url:"https://sudoku.com/"},
  {name:"Cut the Rope",emoji:"üç¨",tag:"Puzzle",url:"https://cut-the-rope.github.io/"},
  {name:"Tetris",emoji:"üß±",tag:"Puzzle",url:"https://tetris.com/play-tetris"},
  {name:"Wordle",emoji:"üìù",tag:"Puzzle",url:"https://wordlegame.org/"},
  
  // Stealth/Action - Henry Stickmin (4)
  {name:"Fleeing Complex",emoji:"üèÉ",tag:"Stealth",url:"https://henry-stickmin.github.io/fleeingthecomplex/"},
  {name:"Escaping Prison",emoji:"üî®",tag:"Stealth",url:"https://henry-stickmin.github.io/escapingtheprison/"},
  {name:"Stealing Diamond",emoji:"üíé",tag:"Stealth",url:"https://henry-stickmin.github.io/stealingthediamond/"},
  {name:"Infiltrating Airship",emoji:"üéà",tag:"Stealth",url:"https://henry-stickmin.github.io/infiltratingtheairship/"},
  
  // Platformer (6)
  {name:"Geometry Dash",emoji:"üî∑",tag:"Platformer",url:"https://geometry-dash-unbanned.github.io/"},
  {name:"OvO",emoji:"ü•ö",tag:"Platformer",url:"https://dedragames.com/games/ovo/1.4/"},
  {name:"Vex 5",emoji:"üî∫",tag:"Platformer",url:"https://vex5.com/"},
  {name:"Vex 6",emoji:"üî∫",tag:"Platformer",url:"https://vex6.com/"},
  {name:"Big Tower Tiny Square",emoji:"üóº",tag:"Platformer",url:"https://big-tower-tiny-square.com/"},
  {name:"Fireboy Watergirl",emoji:"üî•",tag:"Platformer",url:"https://fireboy-watergirl.com/"},
  
  // Fighting (4)
  {name:"Stick Duel",emoji:"‚öîÔ∏è",tag:"Fighting",url:"https://stick-duel-battle.github.io/"},
  {name:"Thumb Fighter",emoji:"üëä",tag:"Fighting",url:"https://thumbfighter.github.io/"},
  {name:"Rooftop Snipers",emoji:"üéØ",tag:"Fighting",url:"https://rooftop-snipers.github.io/"},
  {name:"Getaway Shootout",emoji:"üèÉ",tag:"Fighting",url:"https://getaway-shootout.github.io/"},
  
  // Simulation (4)
  {name:"Papa's Pizzeria",emoji:"üçï",tag:"Sim",url:"https://papas-pizzeria.github.io/"},
  {name:"Papa's Pancakeria",emoji:"ü•û",tag:"Sim",url:"https://papaspancakeria.github.io/"},
  {name:"Papa's Freezeria",emoji:"üç¶",tag:"Sim",url:"https://papasfreezeria.io/"},
  {name:"BitLife",emoji:"üì±",tag:"Sim",url:"https://bitlifeonline.com/"},
  
  // Classic/Retro (4)
  {name:"Pac-Man",emoji:"üëª",tag:"Classic",url:"https://google-pacman.github.io/"},
  {name:"Chrome Dino",emoji:"ü¶ñ",tag:"Classic",url:"https://chrome-dino-game.github.io/"},
  {name:"Flappy Bird",emoji:"üê¶",tag:"Classic",url:"https://flappy-bird.com/"},
  {name:"T-Rex Game",emoji:"ü¶ï",tag:"Classic",url:"https://trex-game.com/"},
  
  // Strategy/Card (4)
  {name:"Chess",emoji:"‚ôüÔ∏è",tag:"Strategy",url:"https://chess.com/"},
  {name:"Checkers",emoji:"üî¥",tag:"Strategy",url:"https://checkers.com/"},
  {name:"Solitaire",emoji:"üÉè",tag:"Card",url:"https://solitaire.com/"},
  {name:"Bloons TD 5",emoji:"üéà",tag:"Tower Defense",url:"https://bloons-td-5.com/"},
  
  // Horror/Other (4)
  {name:"Five Nights at Freddy's",emoji:"üêª",tag:"Horror",url:"https://fivenightsatfreddys.github.io/"},
  {name:"Granny",emoji:"üëµ",tag:"Horror",url:"https://granny.games/"},
  {name:"Minecraft Classic",emoji:"‚õèÔ∏è",tag:"Sandbox",url:"https://classic.minecraft.net/"},
  {name:"Friday Night Funkin'",emoji:"üé§",tag:"Rhythm",url:"https://fridaynightfunkin.io/"}
];

// State Management
let currentGame = null;
let secretUnlocked = localStorage.getItem('secretUnlocked') === 'true';
let lemonCount = parseInt(localStorage.getItem('lemonCount') || '0');
let aurelioCount = parseInt(localStorage.getItem('aurelioCount') || '0');
let gamesPlayed = JSON.parse(localStorage.getItem('gamesPlayed') || '[]');
let achievements = JSON.parse(localStorage.getItem('achievements') || '["first_visit"]');
let aurelioLocked = false;
let aurelioTimerInterval = null;

// Initialize
document.addEventListener('DOMContentLoaded',()=>{
    renderGames(games);
    startClock();
    updateLatency();
    initMatrix();
    checkSecretStatus();
    loadAchievements();
    checkAurelioLock();
    setInterval(updateLatency,2000);
    
    if(!localStorage.getItem('firstVisit')){
        localStorage.setItem('firstVisit','true');
        unlockAchievement('first_visit');
    }
});

function dismissBoot(){
    document.getElementById('boot-sequence').style.display='none';
}

setTimeout(()=>{
    if(document.getElementById('boot-sequence').style.display !== 'none'){
        document.querySelector('.click-to-boot').style.opacity='1';
    }
},4000);

function showSection(sectionId){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');
    event.target.classList.add('active');
}

function renderGames(gameList){
    const grid = document.getElementById('gamesGrid');
    grid.innerHTML = gameList.map(game=>`
        <div class="game-module" onclick="openGame('${game.name}','${game.url}')">
            <div class="module-header">
                <span class="module-icon">${game.emoji}</span>
                <span class="module-tag">${game.tag}</span>
            </div>
            <div class="module-title">${game.name}</div>
            <div class="module-meta">
                <span>Online</span>
                <span>HTML5</span>
            </div>
        </div>
    `).join('');
    document.getElementById('gameCount').textContent = gameList.length;
}

function openGame(name,url){
    if(aurelioLocked) return;
    currentGame = {name,url};
    document.getElementById('viewerGameTitle').textContent = name;
    document.getElementById('gameFrame').src = url;
    document.getElementById('gameViewer').classList.add('active');
    
    if(!gamesPlayed.includes(name)){
        gamesPlayed.push(name);
        localStorage.setItem('gamesPlayed',JSON.stringify(gamesPlayed));
        if(gamesPlayed.length >= 10) unlockAchievement('game_master');
    }
}

function closeGame(){
    document.getElementById('gameViewer').classList.remove('active');
    document.getElementById('gameFrame').src = '';
    currentGame = null;
}

function reloadGame(){
    if(currentGame) document.getElementById('gameFrame').src = currentGame.url;
}

function toggleFullscreen(){
    const viewer = document.getElementById('gameViewer');
    if(!document.fullscreenElement) viewer.requestFullscreen();
    else document.exitFullscreen();
}

// Search & Easter Eggs
function handleSearch(e){
    if(e.key === 'Enter'){
        const query = e.target.value.toLowerCase().trim();
        
        if(query === 'aurelio'){
            handleAurelioSearch();
            e.target.value = '';
            return;
        }
        
        if(query === 'lemon'){
            handleLemonSearch();
            e.target.value = '';
            return;
        }
        
        if(!aurelioLocked){
            const filtered = games.filter(g=>g.name.toLowerCase().includes(query)||g.tag.toLowerCase().includes(query));
            renderGames(filtered);
        }
    }
}

function handleAurelioSearch(){
    aurelioCount++;
    localStorage.setItem('aurelioCount',aurelioCount);
    updateAngerUI();
    
    if(aurelioCount >= 7){
        triggerAurelioShutdown();
    }else{
        let msg = '', type = 'normal';
        switch(aurelioCount){
            case 1: msg = 'üëÅÔ∏è Aurelio notices you...\nWarning Level: MINIMAL'; break;
            case 2: msg = 'üëÅÔ∏è Aurelio turns his gaze...\nWhy do you persist?'; break;
            case 3: msg = '‚ö†Ô∏è SYSTEM WARNING\nThe name burns in memory...\nStop now.'; type='angry'; break;
            case 4: msg = '‚ö†Ô∏è VIOLATION DETECTED\nYou test the limits.\nAurelio grows impatient.'; type='angry'; break;
            case 5: msg = 'üö® DANGER\nSystem integrity failing.\nMEMORY_CORRUPTION_IMMINENT'; type='furious'; shakeScreen(); break;
            case 6: msg = 'üíÄ FINAL WARNING\nOne more mention seals fate.\nSYSTEM_SHUTDOWN_PROTOCOL_ARMED'; type='furious'; redSearchBox(); break;
        }
        showEasterToast(msg,type);
    }
}

function shakeScreen(){
    document.body.style.animation = 'shake 0.5s';
    setTimeout(()=>document.body.style.animation='',500);
}

function redSearchBox(){
    document.getElementById('gameSearch').style.borderColor = '#ff0000';
    document.getElementById('gameSearch').style.boxShadow = '0 0 10px rgba(255,0,0,0.5)';
}

function updateAngerUI(){
    const indicator = document.getElementById('angerIndicator');
    const level = document.getElementById('angerLevel');
    if(aurelioCount > 0){
        indicator.classList.add('show');
        level.textContent = Math.min((aurelioCount/7)*100,100) + '%';
        if(aurelioCount >= 5) level.style.color = '#ff0000';
    }
}

function triggerAurelioShutdown(){
    unlockAchievement('forbidden_name');
    aurelioLocked = true;
    const overlay = document.getElementById('aurelio-overlay');
    const timer = document.getElementById('aurelioTimer');
    const logs = document.getElementById('aurelioLogs');
    
    overlay.classList.add('active');
    
    const logMessages = [
        '>> SECURITY_VIOLATION_DETECTED',
        '>> USER_TRIED_TO_INVOKE_FORBIDDEN_ENTITY',
        '>> COUNTERMEASURES_DEPLOYED...',
        '>> LOCKING_INPUT_STREAMS...',
        '>> CORRUPTING_LOCAL_STORAGE...',
        '>> AURELIO_PROTOCOL_INITIATED...',
        '>> SYSTEM_HALT_ENFORCED',
        '>> TIMER_START: 60_SECONDS',
        '>> OBEY_OR_FACE_DELETION'
    ];
    
    logs.innerHTML = '';
    logMessages.forEach((msg,i)=>{
        setTimeout(()=>{
            const div = document.createElement('div');
            div.textContent = msg;
            div.style.animationDelay = '0s';
            logs.appendChild(div);
            logs.scrollTop = logs.scrollHeight;
        },i*400);
    });
    
    let timeLeft = 60;
    timer.textContent = timeLeft;
    aurelioTimerInterval = setInterval(()=>{
        timeLeft--;
        timer.textContent = timeLeft;
        if(Math.random()>0.7){
            timer.style.transform = `translateX(${(Math.random()-0.5)*10}px)`;
            setTimeout(()=>timer.style.transform='',100);
        }
        if(timeLeft <= 0){
            clearInterval(aurelioTimerInterval);
            releaseAurelioLock();
        }
    },1000);
    
    localStorage.setItem('aurelioLockUntil',Date.now()+60000);
}

function releaseAurelioLock(){
    aurelioLocked = false;
    localStorage.removeItem('aurelioLockUntil');
    document.getElementById('aurelio-overlay').classList.remove('active');
    document.getElementById('gameSearch').style.borderColor = '';
    document.getElementById('gameSearch').style.boxShadow = '';
    document.getElementById('angerIndicator').classList.remove('show');
    showEasterToast('System restored. Do not test fate again.','normal');
}

function checkAurelioLock(){
    const lockUntil = localStorage.getItem('aurelioLockUntil');
    if(lockUntil){
        const remaining = Math.ceil((parseInt(lockUntil)-Date.now())/1000);
        if(remaining > 0){
            aurelioLocked = true;
            document.getElementById('aurelio-overlay').classList.add('active');
            document.getElementById('aurelioTimer').textContent = remaining;
            aurelioTimerInterval = setInterval(()=>{
                const newRemaining = Math.ceil((parseInt(lockUntil)-Date.now())/1000);
                document.getElementById('aurelioTimer').textContent = newRemaining;
                if(newRemaining <= 0){
                    clearInterval(aurelioTimerInterval);
                    releaseAurelioLock();
                }
            },1000);
        }else localStorage.removeItem('aurelioLockUntil');
    }
}

function handleLemonSearch(){
    lemonCount++;
    localStorage.setItem('lemonCount',lemonCount);
    updateLemonUI();
    if(lemonCount >= 5 && !secretUnlocked) unlockSecretMenu();
    else if(lemonCount < 5) showEasterToast(`üçã ${lemonCount}/5... Keep searching!`,'normal');
}

function updateLemonUI(){
    const counter = document.getElementById('lemonCounter');
    document.getElementById('lemonCount').textContent = lemonCount;
    counter.classList.add('show');
    if(lemonCount >= 3){
        counter.style.borderColor = 'var(--success-green)';
        counter.style.color = 'var(--success-green)';
    }
}

function unlockSecretMenu(){
    secretUnlocked = true;
    localStorage.setItem('secretUnlocked','true');
    unlockAchievement('lemon_hunter');
    document.getElementById('secretNavBtn').classList.add('unlocked');
    document.getElementById('unlockedToast').classList.add('show');
    devLog('SECRET MENU UNLOCKED');
    for(let i=0;i<50;i++) matrixDrops.push({x:Math.random()*window.innerWidth,y:-Math.random()*100,speed:Math.random()*5+3,char:'üçã'});
}

function closeUnlockToast(){
    document.getElementById('unlockedToast').classList.remove('show');
    showSection('secret');
    document.getElementById('secretNavBtn').classList.add('active');
}

function checkSecretStatus(){
    if(secretUnlocked){
        document.getElementById('secretNavBtn').classList.add('unlocked');
        document.getElementById('lemonCounter').style.display = 'none';
    }else updateLemonUI();
}

function dismissDisclaimer(){
    document.getElementById('gameDisclaimer').style.display = 'none';
    document.querySelector('header').style.marginTop = '35px';
    document.querySelector('nav').style.top = '35px';
}

function devCommand(cmd){
    const console = document.getElementById('devConsole');
    const line = document.createElement('div');
    line.className = 'dev-console-line';
    if(cmd==='hack'){
        line.innerHTML = `> <span style="color:var(--terminal-amber)">Hacking...</span>`;
        setTimeout(()=>{
            const line2 = document.createElement('div');
            line2.className = 'dev-console-line';
            line2.innerHTML = `> <span style="color:var(--error-red)">ACCESS DENIED (nice try)</span>`;
            console.appendChild(line2);
            console.scrollTop = console.scrollHeight;
        },1000);
    }else if(cmd==='clear'){
        console.innerHTML = '';
        line.textContent = '> Console cleared';
    }
    console.appendChild(line);
    console.scrollTop = console.scrollHeight;
}

function devLog(msg){
    const console = document.getElementById('devConsole');
    const line = document.createElement('div');
    line.className = 'dev-console-line';
    line.textContent = `> ${msg}`;
    console.appendChild(line);
    console.scrollTop = console.scrollHeight;
}

let matrixIntensity = 8, extremeMode = false;
function updateMatrix(val){
    matrixAlpha = val / 100;
}
function toggleExtremeMatrix(){
    extremeMode = !extremeMode;
    matrixSpeed = extremeMode ? 3 : 1;
    matrixDensity = extremeMode ? 0.8 : 0.04;
    showEasterToast(extremeMode?'‚ö†Ô∏è EXTREME MODE':'Normal mode','warning');
}
function fakeCrash(){
    shakeScreen();
    setTimeout(()=>{
        document.getElementById('boot-sequence').style.display = 'flex';
        document.getElementById('boot-sequence').innerHTML = `
            <div class="boot-line error" style="opacity:1">> FATAL ERROR</div>
            <div class="boot-line error" style="opacity:1">> Memory corruption at 0x4F4C454D</div>
            <div class="boot-line warn" style="opacity:1">> Recovery...</div>
        `;
        setTimeout(()=>document.getElementById('boot-sequence').style.display='none',3000);
    },500);
}
function rickRoll(){
    window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ','_blank');
}
function showAurelioMessage(){
    showEasterToast('üëÅÔ∏è Aurelio knows about the lemons...','warning');
}

function toggleAchievements(){
    document.getElementById('achievementsPanel').classList.toggle('active');
}
function unlockAchievement(id){
    if(!achievements.includes(id)){
        achievements.push(id);
        localStorage.setItem('achievements',JSON.stringify(achievements));
        const item = document.querySelector(`[data-id="${id}"]`);
        if(item) item.classList.add('unlocked');
        const popup = document.getElementById('achievementPopup');
        document.getElementById('achievementText').textContent = 'Achievement unlocked!';
        popup.classList.add('show');
        setTimeout(()=>popup.classList.remove('show'),4000);
    }
}
function loadAchievements(){
    achievements.forEach(id=>{
        const item = document.querySelector(`[data-id="${id}"]`);
        if(item) item.classList.add('unlocked');
    });
}

function showEasterToast(msg,type='normal'){
    const toast = document.getElementById('easterToast');
    toast.textContent = msg;
    toast.className = 'easter-egg-toast show ' + (type==='warning'?'angry':type==='furious'?'furious':type==='success'?'unlocked':'');
    setTimeout(()=>toast.classList.remove('show'),4000);
}
function showEasterEgg(type){
    if(type==='logo') showEasterToast('üçã Lemon power!','success');
}

// Matrix Effect
let matrixCanvas, matrixCtx, matrixDrops = [], matrixChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%^&*';
let matrixSpeed = 1, matrixDensity = 0.04, matrixAlpha = 0.08;

function initMatrix(){
    matrixCanvas = document.getElementById('matrix-canvas');
    matrixCtx = matrixCanvas.getContext('2d');
    resizeMatrix();
    window.addEventListener('resize',resizeMatrix);
    for(let i=0;i<100;i++){
        matrixDrops.push({
            x:Math.random()*matrixCanvas.width,
            y:Math.random()*matrixCanvas.height,
            speed:Math.random()*2+1,
            char:matrixChars[Math.floor(Math.random()*matrixChars.length)]
        });
    }
    animateMatrix();
}
function resizeMatrix(){
    matrixCanvas.width = window.innerWidth;
    matrixCanvas.height = window.innerHeight;
}
function animateMatrix(){
    matrixCtx.fillStyle = `rgba(10,22,40,${matrixAlpha})`;
    matrixCtx.fillRect(0,0,matrixCanvas.width,matrixCanvas.height);
    matrixCtx.font = '14px JetBrains Mono';
    matrixDrops.forEach((drop,i)=>{
        if(Math.random()>0.98) drop.char = matrixChars[Math.floor(Math.random()*matrixChars.length)];
        matrixCtx.fillStyle = i%3===0?'#0f0':i%3===1?'#0ff':'#fff';
        matrixCtx.fillText(drop.char,drop.x,drop.y);
        drop.y += drop.speed * matrixSpeed;
        if(drop.y>matrixCanvas.height){
            drop.y = -20;
            drop.x = Math.random()*matrixCanvas.width;
        }
        if(Math.random()<matrixDensity && matrixDrops.length<200){
            matrixDrops.push({x:Math.random()*matrixCanvas.width,y:-20,speed:Math.random()*2+1,char:matrixChars[Math.floor(Math.random()*matrixChars.length)]});
        }
    });
    requestAnimationFrame(animateMatrix);
}

function playMusic(){
    const input = document.getElementById('musicInput').value;
    if(!input) return;
    document.getElementById('nowPlaying').textContent = 'Now playing: ' + (input.length>30?input.substring(0,30)+'...':input);
    document.getElementById('nowPlaying').classList.add('active');
    unlockAchievement('music_lover');
}
function stopMusic(){
    document.getElementById('nowPlaying').classList.remove('active');
    document.getElementById('nowPlaying').textContent = 'Now playing: Nothing';
}

function startClock(){
    setInterval(()=>{
        document.getElementById('clock').textContent = new Date().toLocaleTimeString();
    },1000);
}
function updateLatency(){
    document.getElementById('latency').textContent = Math.floor(Math.random()*20+5);
}

document.addEventListener('keydown',(e)=>{
    if(e.key==='Escape' && !aurelioLocked && document.getElementById('gameViewer').classList.contains('active')){
        closeGame();
    }
});
</script>

</body>
</html>
